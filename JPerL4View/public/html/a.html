<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>jQuery.post demo</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
</head>
<body class="addSubView">
<div class = "container">
 <h1 class="marquis">Add a Song</h1>
 
<form action="/api/song" id="addSubViewSongForm">
  <input type="text" name="title" placeholder="Enter title...">
  <input type="text" name="artist" placeholder="Enter title...">
  <input type="text" name="genre" placeholder="Enter title...">
  <input type="text" name="format" placeholder="Enter title...">
  <input type="text" name="location" placeholder="Enter title...">
  <textarea class="textList" name="notes" rows="10" cols="48"></textarea>
  <input type="submit" value="Add Song">
</form>
<!-- the result of the search will be rendered inside this div -->
<div id="result"></div>
 
<script>
// Attach a submit handler to the form
$( "#addSubViewSongForm" ).submit(function( event ) {
 
  // Stop form from submitting normally
  event.preventDefault();
 
  // Get some values from elements on the page:
  var $form = $( this ),
    title = $form.find( "input[name='title']" ).val(),
    artist = $form.find( "input[name = 'artist']").val(),
    genre = $form.find( "input[name = 'genre']").val(),
    format = $form.find( "input[name = 'format']").val(),
    location = $form.find( "input[name = 'location']").val(),
    notes = $form.find( "textarea[name = 'notes']").text(),
    url = $form.attr( "action" );
 
  // Send the data using post
  var posting = $.post( url, { title: title, artist: artist, genre:genre, format:format,location:location,notes:notes },
	  function(data, textStatus, jqXHR) {
	    	console.log(JSON.stringify(data));
   			$( "#result" ).empty().append(data.title);
	   }
	);
});
</script>
 </div>
</body>
</html>
